<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HawkTracer: Design</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HawkTracer
   &#160;<span id="projectnumber">0.10.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('design.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Design </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The purpose of this document is to present and explain all high-level design decisions for the <a class="el" href="namespace_hawk_tracer.html">HawkTracer</a> profiler. If you are looking for a design of a specific component, you should probably be looking at one of the two documents below:</p>
<ul>
<li><a class="el" href="design_library.html">Core library design</a><ul>
<li><a class="el" href="design_events.html">Events</a></li>
<li><a class="el" href="design_timeline.html">Timeline</a></li>
<li><a class="el" href="design_timeline_features.html">Timeline features</a></li>
</ul>
</li>
<li><a class="el" href="design_client.html">Client &amp; client library design</a></li>
<li><a class="el" href="design_htdump_format.html">HTDUMP format design</a></li>
</ul>
<h2>Diagram</h2>
<p>The diagram below represents high level architecture of the HawkTracer project.</p>
<div class="image">
<img src="hawktracer_high_level.png" alt="hawktracer_high_level.png"/>
<div class="caption">
HawkTracer high level design diagram</div></div>
<p> HawkTracer Core is implemented as a library which must be linked to profiled application. User calls functions from the library in order to report events (the library provides a lot of helper macros and functions to simplify this operation). The events then are transfered to a client, which are then processed and transformed from binary to human-readable format (or to format supported by third-party profiler viewers).</p>
<h2>Core of the profiler as a library</h2>
<p>HawkTracer profiler was designed as a library that's linked to the executable. The other approach we considered was to implement is as external executable which runs in parallel with the profiled application. We decided to not implement the profiler as external process because of a few reasons:</p>
<ul>
<li>HawkTracer is targeting as many platforms as possible, including those which don't allow users execute multiple processes</li>
<li>getting detailed tracing information for some platforms require administration privileges, which might not be available for the user</li>
</ul>
<h2>Separation of Core and Client</h2>
<p>We decided to keep the core library as lightweight as possible to not introduce extra overhead. Therefore the library should generate data as quickly as possible and transfer it to a client (either directly, or indirectly, e.g. through file system). However, one can treat HawkTracer library as a lightweight event system, therefore it is possible to extend the library to run any event processing. In order to minimize the data generated by the library, but at the same time keep the data format extensible, we've designed a custom data format (HTDUMP) - both client and core library implement the format to efficiently transfer events. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">index</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
